<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:40:49 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-79/HBASE-79.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-79] [hbase] When HBase needs to be migrated, it should display a message on stdout, not just in the logs</title>
                <link>https://issues.apache.org/jira/browse/HBASE-79</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When you upgrade your HBase code version, there is occasionally the need to migrate the underlying data store to a new version. However, if you are unaware of this need, then you&apos;ll be very confused by what happens when you restart HBase. Using start-hbase.sh, you get messages indicating that the master and regionservers started as expected. However, in reality, it will have tried to start and failed due to a version mismatch. This information is displayed in the logs, but you won&apos;t know that until you go log diving.&lt;/p&gt;

&lt;p&gt;Instead, let&apos;s have the start-hbase.sh script do a check to see if the version number is wrong itself. That way, if it fails, it can write messages about startup failure to the console instead of to the logs. This will make new admins much happier.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12387512">HBASE-79</key>
            <summary>[hbase] When HBase needs to be migrated, it should display a message on stdout, not just in the logs</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jimk">Jim Kellerman</assignee>
                                    <reporter username="bryanduxbury">Bryan Duxbury</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Jan 2008 23:37:47 +0000</created>
                <updated>Fri, 22 Aug 2008 21:13:06 +0000</updated>
                            <resolved>Fri, 7 Mar 2008 19:34:53 +0000</resolved>
                                    <version>0.1.0</version>
                    <version>0.2.0</version>
                                    <fixVersion>0.1.0</fixVersion>
                    <fixVersion>0.2.0</fixVersion>
                                    <component>util</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12565989" author="stack" created="Wed, 6 Feb 2008 01:19:11 +0000"  >&lt;p&gt;This might not be that hard to do.  I&apos;ve just been messing in scripts.  I noticed that it does a &apos;head hbase-master*out&apos; after startup before exiting.  If the migration message was put on STDOUT/ERR, rather than logged (or put in both places), I think that should be all thats needed to make this work.&lt;/p&gt;</comment>
                            <comment id="12570377" author="stack" created="Tue, 19 Feb 2008 19:22:50 +0000"  >&lt;p&gt;Patch that outputs this when you try to start a master on a system that needs migration:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
durruti:~/Documents/checkouts/hbase/trunk stack$ ./bin/start-hbase.sh 
starting master, logging to /Users/stack/Documents/checkouts/hbase/trunk/bin/../logs/hbase-stack-master-durruti.desk.hq.powerset.com.out
WARNING! File system needs upgrade. Run the &apos;${HBASE_HOME}/bin/hbase migrate&apos; script. Master shutting down...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12570381" author="bryanduxbury" created="Tue, 19 Feb 2008 19:28:33 +0000"  >&lt;p&gt;Patch looks good, maybe change the message though? That message seems to indicate I have to upgrade HDFS. &lt;/p&gt;

&lt;p&gt;How about &quot;The HBase data files stored in HDFS are from an earlier version of HBase. You need to run &apos;bin/hbase migrate&apos; to bring your installation up-to-date.&quot; ?&lt;/p&gt;</comment>
                            <comment id="12570392" author="stack" created="Tue, 19 Feb 2008 19:38:47 +0000"  >&lt;p&gt;Committed w/ Bryan&apos;s better wording.&lt;/p&gt;</comment>
                            <comment id="12575894" author="stack" created="Thu, 6 Mar 2008 21:45:18 +0000"  >&lt;p&gt;Lets backport to 0.1.0 release.&lt;/p&gt;</comment>
                            <comment id="12576345" author="jimk" created="Fri, 7 Mar 2008 19:34:53 +0000"  >&lt;p&gt;Backported same patch from trunk to 0.1.0. Committed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12375956" name="79.patch" size="903" author="stack" created="Tue, 19 Feb 2008 19:22:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 6 Feb 2008 01:19:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31675</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0h43z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97928</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>