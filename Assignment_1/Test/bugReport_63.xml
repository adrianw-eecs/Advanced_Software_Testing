<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:40:39 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-63/HBASE-63.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-63] Master does not load balance regions well on startup</title>
                <link>https://issues.apache.org/jira/browse/HBASE-63</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;We get poor distribution of regions when we start up HBase.  We have a total of 13 nodes and 898 regions, which should yield an average of 69 regions per node.  Instead, one node has 173 regions and one node has 16 regions.&lt;/p&gt;

&lt;p&gt;Address	Start Code	Load&lt;br/&gt;
10.100.11.62:60020	1199406218912	requests: 0 regions: 63&lt;br/&gt;
10.100.11.59:60020	1199406219179	requests: 0 regions: 55&lt;br/&gt;
10.100.11.60:60020	1199406219062	requests: 0 regions: 90&lt;br/&gt;
10.100.11.61:60020	1199406219132	requests: 1 regions: 54&lt;br/&gt;
10.100.11.64:60020	1199406218817	requests: 0 regions: 173&lt;br/&gt;
10.100.11.31:60020	1199406219039	requests: 1 regions: 16&lt;br/&gt;
10.100.11.58:60020	1199406218895	requests: 0 regions: 89&lt;br/&gt;
10.100.11.56:60020	1199406219037	requests: 0 regions: 76&lt;br/&gt;
10.100.11.65:60020	1199406219135	requests: 0 regions: 56&lt;br/&gt;
10.100.11.57:60020	1199406219183	requests: 1 regions: 56&lt;br/&gt;
10.100.11.33:60020	1199406219174	requests: 1 regions: 56&lt;br/&gt;
10.100.11.32:60020	1199406218944	requests: 0 regions: 66&lt;br/&gt;
10.100.11.63:60020	1199406219182	requests: 0 regions: 48&lt;br/&gt;
Total: 	servers: 13	 	requests: 4 regions: 898&lt;/p&gt;</description>
                <environment>&lt;p&gt;CentOS 5&lt;/p&gt;</environment>
        <key id="12385607">HBASE-63</key>
            <summary>Master does not load balance regions well on startup</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bryanduxbury">Bryan Duxbury</assignee>
                                    <reporter username="chriskline">Chris Kline</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Jan 2008 19:30:17 +0000</created>
                <updated>Fri, 22 Aug 2008 21:13:05 +0000</updated>
                            <resolved>Fri, 4 Jul 2008 19:00:47 +0000</resolved>
                                                    <fixVersion>0.2.0</fixVersion>
                                    <component>master</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12556036" author="viper799" created="Fri, 4 Jan 2008 19:46:13 +0000"  >&lt;p&gt;I see the same thing on starting up a cluster with 4 nodes&lt;/p&gt;

&lt;p&gt;1 node gets the Root&lt;br/&gt;
1 node gets the META&lt;br/&gt;
and 1 node gets the rest of the regions&lt;br/&gt;
and the last node gets nothing&lt;/p&gt;

&lt;p&gt;I do not have as many regions as you but I thank on start up the master should use a round ribbon fashion to load the regions to the nodes.&lt;/p&gt;
</comment>
                            <comment id="12556136" author="stack" created="Sat, 5 Jan 2008 00:39:37 +0000"  >&lt;p&gt;On my little cluster of 4, the story is not as bad as Billy&apos;s but could be better for sure. On restart, it looks like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
regions: 1
regions: 8
regions: 8
regions: 4
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12556152" author="viper799" created="Sat, 5 Jan 2008 01:28:52 +0000"  >&lt;p&gt;not sure I have not looked at the code but I thank it works off load/request load of the server for placement maybe when/if we decide to put some logic in to the master to assign regions to nodes that have local copys of the data we could put something in there to balance out the nodes more even.&lt;/p&gt;

&lt;p&gt;Billy&lt;/p&gt;</comment>
                            <comment id="12565222" author="bryanduxbury" created="Sun, 3 Feb 2008 21:10:15 +0000"  >&lt;p&gt;One proposed solution is to have the master have some small amount of quiet time on startup where it won&apos;t assign regions other than ROOT and META. This would allow all the region servers to start up, so that when assignment starts, it will be more balanced across all region servers instead of skewed towards those that connected first.&lt;/p&gt;</comment>
                            <comment id="12569038" author="bryanduxbury" created="Thu, 14 Feb 2008 18:44:48 +0000"  >&lt;p&gt;Will we still have this problem if we rebalance region assignments? (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-71&quot; title=&quot;[hbase] Master should rebalance region assignments periodically&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-71&quot;&gt;&lt;del&gt;HBASE-71&lt;/del&gt;&lt;/a&gt;) It might be skewed on startup still, but it should equilibrate pretty quickly to a decent distribution.&lt;/p&gt;</comment>
                            <comment id="12575977" author="bryanduxbury" created="Fri, 7 Mar 2008 00:27:22 +0000"  >&lt;p&gt;I would like to see if a working rebalance would resolve this issue without any additional work.&lt;/p&gt;</comment>
                            <comment id="12585725" author="bryanduxbury" created="Fri, 4 Apr 2008 19:45:50 +0000"  >&lt;p&gt;Let&apos;s see if &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-71&quot; title=&quot;[hbase] Master should rebalance region assignments periodically&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-71&quot;&gt;&lt;del&gt;HBASE-71&lt;/del&gt;&lt;/a&gt; makes this a non-issue. Decreasing priority of issue.&lt;/p&gt;</comment>
                            <comment id="12602015" author="jimk" created="Tue, 3 Jun 2008 18:35:26 +0000"  >&lt;p&gt;Is there more to do on this issue? Or do we just need to fix &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-615&quot; title=&quot;Region balancer oscillates during cluster startup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-615&quot;&gt;&lt;del&gt;HBASE-615&lt;/del&gt;&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="12606643" author="jimk" created="Fri, 20 Jun 2008 06:25:22 +0000"  >&lt;p&gt;Changing release to 0.3.0 because fixing &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-615&quot; title=&quot;Region balancer oscillates during cluster startup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-615&quot;&gt;&lt;del&gt;HBASE-615&lt;/del&gt;&lt;/a&gt; has made this less of an issue. Let&apos;s use this issue to track region rebalancing under load.&lt;/p&gt;</comment>
                            <comment id="12610609" author="bryanduxbury" created="Fri, 4 Jul 2008 15:55:40 +0000"  >&lt;p&gt;Shouldn&apos;t this issue be closed? We have rebalancing in trunk now, so this shouldn&apos;t be a persistent problem.&lt;/p&gt;</comment>
                            <comment id="12610639" author="jimk" created="Fri, 4 Jul 2008 19:00:47 +0000"  >&lt;p&gt;Fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-615&quot; title=&quot;Region balancer oscillates during cluster startup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-615&quot;&gt;&lt;del&gt;HBASE-615&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12387513">HBASE-71</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12395373">HBASE-615</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Jan 2008 19:46:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31660</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 24 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0h3z3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97906</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>