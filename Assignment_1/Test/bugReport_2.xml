<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:40:02 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2/HBASE-2.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2] hlog numbers should wrap around when they reach 999</title>
                <link>https://issues.apache.org/jira/browse/HBASE-2</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Question about log numbers -&amp;gt; Closing current log writer hdfs://10.0.0.1:9000/gfs_storage/hadoop-root/hbase/log_10.0.0.3_1201900440436_60020/hlog.dat.024&lt;br/&gt;
What happens when the log get to hlog.dat.999&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12387674">HBASE-2</key>
            <summary>hlog numbers should wrap around when they reach 999</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bryanduxbury">Bryan Duxbury</assignee>
                                    <reporter username="viper799">Billy Pearson</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Feb 2008 21:32:58 +0000</created>
                <updated>Fri, 22 Aug 2008 21:13:01 +0000</updated>
                            <resolved>Thu, 7 Feb 2008 21:49:17 +0000</resolved>
                                                    <fixVersion>0.2.0</fixVersion>
                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12565498" author="bryanduxbury" created="Mon, 4 Feb 2008 20:04:04 +0000"  >&lt;p&gt;clarified title&lt;/p&gt;</comment>
                            <comment id="12565507" author="jimk" created="Mon, 4 Feb 2008 20:28:20 +0000"  >&lt;p&gt;Should they wrap? It will make log recovery more complicated. Why not use System.currentTimeMillis() as the version number, so they always sort properly?&lt;/p&gt;</comment>
                            <comment id="12565515" author="bryanduxbury" created="Mon, 4 Feb 2008 20:43:58 +0000"  >&lt;p&gt;+1 to that idea.&lt;/p&gt;</comment>
                            <comment id="12565603" author="viper799" created="Mon, 4 Feb 2008 23:33:35 +0000"  >&lt;p&gt;+1 thats a good idea.&lt;/p&gt;</comment>
                            <comment id="12565974" author="bryanduxbury" created="Wed, 6 Feb 2008 00:37:01 +0000"  >&lt;p&gt;Doesn&apos;t appear to be an attachment on this issue... can&apos;t really be patch available.&lt;/p&gt;</comment>
                            <comment id="12565990" author="viper799" created="Wed, 6 Feb 2008 01:37:58 +0000"  >&lt;p&gt;not sure why I did that&lt;/p&gt;</comment>
                            <comment id="12566418" author="bryanduxbury" created="Thu, 7 Feb 2008 00:39:21 +0000"  >&lt;p&gt;Here&apos;s a shot at it.&lt;/p&gt;</comment>
                            <comment id="12566419" author="bryanduxbury" created="Thu, 7 Feb 2008 00:47:50 +0000"  >&lt;p&gt;Forgot to change computeFilename method to accommodate new longer numeric portion.&lt;/p&gt;</comment>
                            <comment id="12566422" author="bryanduxbury" created="Thu, 7 Feb 2008 01:19:04 +0000"  >&lt;p&gt;Build passes locally.&lt;/p&gt;</comment>
                            <comment id="12566777" author="jimk" created="Thu, 7 Feb 2008 20:20:37 +0000"  >&lt;p&gt;Thinking about this some more, using a long is overkill, and to truly maintain sort order, would need to be zero filled from the left.&lt;/p&gt;

&lt;p&gt;A simple integer counter will suffice (although it too needs to be zero filled from the left to preserve sort order). e.g.:&lt;/p&gt;

&lt;p&gt;The following do not sort properly:&lt;/p&gt;

&lt;p&gt;1&lt;br/&gt;
2&lt;br/&gt;
10&lt;/p&gt;

&lt;p&gt;whereas the following do:&lt;/p&gt;

&lt;p&gt;01&lt;br/&gt;
02&lt;br/&gt;
10&lt;/p&gt;</comment>
                            <comment id="12566781" author="bryanduxbury" created="Thu, 7 Feb 2008 20:28:27 +0000"  >&lt;p&gt;No question that a long is &quot;overkill&quot; for representing the number of .dat files we&apos;ll have. However, we selected System.currentTimeMillis() because it would give us a unique, increasing number every time. Storing an additional 7-10 bytes per filename seems like a reasonable tradeoff. &lt;/p&gt;

&lt;p&gt;As far as the question of zero-fill, it&apos;s actually pretty moot, because it will only matter when the length of the timestamps increases by a full order of magnitude. For today, that means going from around 1.2 billion seconds since epoch to 10 billion seconds since epoch, which is about 300 years from now. Even then, the problem would only manifest if two log files were created across the 10 billion rollover. Do you think that we can be ok with a 1-second danger zone 300 years from now?&lt;/p&gt;</comment>
                            <comment id="12566790" author="jimk" created="Thu, 7 Feb 2008 20:52:12 +0000"  >&lt;p&gt;Ok, forget the leading zeros and use a long.&lt;/p&gt;</comment>
                            <comment id="12566812" author="stack" created="Thu, 7 Feb 2008 21:49:17 +0000"  >&lt;p&gt;Committed.  Thanks for the patch Bryan (And Billy for the speculation)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12374930" name="2-v2.patch" size="2241" author="bryanduxbury" created="Thu, 7 Feb 2008 00:47:50 +0000"/>
                            <attachment id="12374928" name="2.patch" size="1981" author="bryanduxbury" created="Thu, 7 Feb 2008 00:39:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 4 Feb 2008 20:04:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24842</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 46 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0h3bz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97802</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>